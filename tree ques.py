import streamlit as st
import random

# 1. ‡∑Å‡∑è‡∂ö ‡∑Ä‡∂ª‡∑ä‡∂ú 50‡∂ö ‡∂Ω‡∑ê‡∂∫‡∑í‡∑É‡∑ä‡∂≠‡∑î‡∑Ä (‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∑î ‡∑É‡∂≥‡∑Ñ‡∑è)
all_plants = [
    "‡∂ö‡∑ú‡∑É‡∑ä", "‡∂Ö‡∂π", "‡∂¥‡∑ú‡∂Ω‡∑ä", "‡∂±‡∑ô‡∑Ö‡∑î‡∂∏‡∑ä", "‡∂ª‡∂∂‡∂ª‡∑ä", "‡∂≠‡∑ö", "‡∂ö‡∑ô‡∑É‡∑ô‡∂Ω‡∑ä", "‡∂¥‡∑î‡∑Ä‡∂ö‡∑ä", "‡∂ö‡∑î‡∂π‡∑î‡∂ö‡∑ä", "‡∂∏‡∑Ñ‡∑ù‡∂ú‡∂±‡∑ì",
    "‡∂≠‡∂ö‡∑ä‡∂ö‡∑è‡∂Ω‡∑í", "‡∂∏‡∑í‡∂ª‡∑í‡∑É‡∑ä", "‡∂∂‡∂≠‡∂Ω", "‡∂ö‡∑ê‡∂ª‡∂ß‡∑ä", "‡∂ª‡∑è‡∂∂‡∑î", "‡∂ú‡∑ù‡∑Ä‡∑è", "‡∂ö‡∂ª‡∑Ä‡∑í‡∂Ω", "‡∂¥‡∂≠‡∑ù‡∂Ω", "‡∑Ä‡∂ß‡∑ä‡∂ß‡∂ö‡∑ä‡∂ö‡∑è", "‡∂Ø‡∑ô‡∑Ñ‡∑í",
    "‡∂Ø‡∑ú‡∂©‡∂∏‡∑ä", "‡∂Ö‡∂±‡∑ä‡∂±‡∑è‡∑É‡∑í", "‡∂¥‡∑ê‡∂¥‡∑ú‡∂Ω‡∑ä", "‡∂¥‡∑ö‡∂ª", "‡∂¢‡∂∏‡∑ä‡∂∂‡∑î", "‡∂ö‡∂¢‡∑î", "‡∂Ø‡∑í‡∑Ä‡∑î‡∂Ω‡∑ä", "‡∂∂‡∑ô‡∂Ω‡∑í", "‡∂±‡∑è‡∂ª‡∂Ç", "‡∑Ä‡∑ô‡∂ª‡∑Ö‡∑î",
    "‡∂∂‡∑ù‡∂∞‡∑í", "‡∂±‡∑î‡∂ú", "‡∂á‡∑É‡∂≠‡∑î", "‡∂±‡∑è", "‡∑É‡∂Ω‡∑ä", "‡∂Ö‡∂ª‡∂Ω‡∑í‡∂∫", "‡∑É‡∂¥‡∂≠‡∑ö‡∂ª‡∑î", "‡∂ª‡∑ù‡∑É", "‡∂¥‡∑í‡∂†‡∑ä‡∂†", "‡∂±‡∑í‡∂Ω‡∑ä‡∂ö‡∂ß‡∂ª‡∑ú‡∂Ω‡∑î",
    "‡∂ö‡∑î‡∂ª‡∑î‡∂≥‡∑î", "‡∂ö‡∂ª‡∑è‡∂∂‡∑î‡∂±‡∑ê‡∂ß‡∑í", "‡∂ú‡∂∏‡∑ä‡∂∏‡∑í‡∂ª‡∑í‡∑É‡∑ä", "‡∑É‡∑è‡∂Ø‡∑í‡∂ö‡∑ä‡∂ö‡∑è", "‡∂â‡∂ü‡∑î‡∂ª‡∑î", "‡∂ö‡∑Ñ", "‡∂ë‡∂±‡∑É‡∑è‡∂Ω‡∑ä", "‡∂ú‡∑ú‡∂ß‡∑î‡∂ö‡∑ú‡∑Ö", "‡∂ö‡∂Ç‡∂ö‡∑î‡∂±‡∑ä", "‡∂∏‡∑î‡∂ö‡∑î‡∂´‡∑î‡∑Ä‡∑ê‡∂±‡∑ä‡∂±"
]

# 2. ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± 25 ‡∑É‡∑Ñ ‡∂í‡∑Ä‡∑è‡∂∫‡∑ö ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∑î
quiz_data = [
    ("1.jpg", "‡∂ö‡∑ú‡∑É‡∑ä"), ("2.jpg", "‡∂Ö‡∂π"), ("3.jpg", "‡∂¥‡∑ú‡∂Ω‡∑ä"), ("4.jpg", "‡∂±‡∑ô‡∑Ö‡∑î‡∂∏‡∑ä"), ("5.jpg", "‡∂ª‡∂∂‡∂ª‡∑ä"),
    ("6.jpg", "‡∂≠‡∑ö"), ("7.jpg", "‡∂ö‡∑ô‡∑É‡∑ô‡∂Ω‡∑ä"), ("8.jpg", "‡∂¥‡∑î‡∑Ä‡∂ö‡∑ä"), ("9.jpg", "‡∂ö‡∑î‡∂π‡∑î‡∂ö‡∑ä"), ("10.jpg", "‡∂∏‡∑Ñ‡∑ù‡∂ú‡∂±‡∑ì"),
    ("11.jpg", "‡∂≠‡∂ö‡∑ä‡∂ö‡∑è‡∂Ω‡∑í"), ("12.jpg", "‡∂∏‡∑í‡∂ª‡∑í‡∑É‡∑ä"), ("13.jpg", "‡∂∂‡∂≠‡∂Ω"), ("14.jpg", "‡∂ö‡∑ê‡∂ª‡∂ß‡∑ä"), ("15.jpg", "‡∂ª‡∑è‡∂∂‡∑î"),
    ("16.jpg", "‡∂ú‡∑ù‡∑Ä‡∑è"), ("17.jpg", "‡∂ö‡∂ª‡∑Ä‡∑í‡∂Ω"), ("18.jpg", "‡∂¥‡∂≠‡∑ù‡∂Ω"), ("19.jpg", "‡∑Ä‡∂ß‡∑ä‡∂ß‡∂ö‡∑ä‡∂ö‡∑è"), ("20.jpg", "‡∂Ø‡∑ô‡∑Ñ‡∑í"),
    ("21.jpg", "‡∂Ø‡∑ú‡∂©‡∂∏‡∑ä"), ("22.jpg", "‡∂Ö‡∂±‡∑ä‡∂±‡∑è‡∑É‡∑í"), ("23.jpg", "‡∂¥‡∑ê‡∂¥‡∑ú‡∂Ω‡∑ä"), ("24.jpg", "‡∂¥‡∑ö‡∂ª"), ("25.jpg", "‡∂¢‡∂∏‡∑ä‡∂∂‡∑î")
]

st.set_page_config(page_title="‡∑Å‡∑è‡∂ö ‡∂¥‡∂≠‡∑ä‚Äç‡∂ª Quiz", page_icon="üçÉ")
st.title("üçÉ ‡∑Å‡∑è‡∂ö ‡∂¥‡∂≠‡∑ä‚Äç‡∂ª ‡∑Ñ‡∂≥‡∑î‡∂±‡∑è‡∂ú‡∂±‡∑í‡∂∏‡∑î")

if 'score' not in st.session_state:
    st.session_state.score = 0
if 'current_q' not in st.session_state:
    st.session_state.current_q = 0

# Game ‡∂ë‡∂ö ‡∂Ö‡∑Ä‡∑É‡∂±‡∑ä ‡∂±‡∂∏‡∑ä
if st.session_state.current_q >= len(quiz_data):
    st.balloons()
    st.success(f"‡∂≠‡∂ª‡∂ü‡∂∫ ‡∂Ö‡∑Ä‡∑É‡∂±‡∑ä! ‡∂î‡∂∂‡∑ö ‡∂∏‡∑î‡∑Ö‡∑î ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫: {st.session_state.score} / 25")
    if st.button("‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂Ö‡∂ª‡∂π‡∂±‡∑ä‡∂±"):
        st.session_state.score = 0
        st.session_state.current_q = 0
        st.rerun()
else:
    img_file, correct_ans = quiz_data[st.session_state.current_q]
    
    st.subheader(f"‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫ {st.session_state.current_q + 1}:")
    
    # ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏ (‡∂î‡∂∂‡∑ö folder ‡∂ë‡∂ö‡∑ö 1.jpg, 2.jpg ‡∂Ü‡∂Ø‡∑í‡∂∫ ‡∂≠‡∑í‡∂∂‡∑í‡∂∫ ‡∂∫‡∑î‡∂≠‡∑î‡∂∫‡∑í)
    try:
        st.image(img_file, width=400)
    except:
        st.warning(f"{img_file} ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª‡∂∫ ‡∑É‡∑ú‡∂∫‡∑è‡∂ú‡∂≠ ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö. ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂ë‡∂∫ folder ‡∂ë‡∂ö‡∂ß ‡∂Ø‡∂∏‡∂±‡∑ä‡∂±.")

    # ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∑î ‡∂≠‡∑ö‡∂ª‡∑ì‡∂∏ (‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∑î 2‡∂ö‡∑ä ‡∂Ö‡∑Ñ‡∂π‡∑î ‡∂Ω‡∑ô‡∑É ‡∂≠‡∑ù‡∂ª‡∑è ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂ë‡∂ö ‡∑É‡∂∏‡∂ü ‡∂∏‡∑í‡∑Å‡∑ä‚Äç‡∂ª ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏)
    wrong_options = random.sample([p for p in all_plants if p != correct_ans], 2)
    options = wrong_options + [correct_ans]
    random.shuffle(options)

    user_choice = st.radio("‡∂∏‡∑ô‡∂∏ ‡∂¥‡∂≠‡∑ä‚Äç‡∂ª‡∂∫ ‡∂Ö‡∂∫‡∑í‡∂≠‡∑í ‡∂ö‡∑î‡∂∏‡∂± ‡∑Å‡∑è‡∂ö‡∂∫‡∂ß‡∂Ø?", options, index=None)

    if st.button("‡∂ä‡∑Ö‡∂ü ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫ ‚û°Ô∏è"):
        if user_choice == correct_ans:
            st.session_state.score += 1
            st.toast("‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í! üéâ")
        else:
            st.toast(f"‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í! ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª: {correct_ans} ‚ùå")
        
        st.session_state.current_q += 1
        st.rerun()

st.sidebar.write(f"‡∂Ω‡∂ö‡∑î‡∂´‡∑î: {st.session_state.score} / {st.session_state.current_q}")
